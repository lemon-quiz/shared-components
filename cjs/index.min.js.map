{"version":3,"file":"index.min.js","sources":["../lib/utils/setQueryParam.ts","../lib/utils/getPrefixedValues.ts","../lib/Table/Headers/Sortable.tsx","../lib/Table/Headers/HeaderSearch.tsx","../lib/Table/Headers/Header.tsx","../lib/Table/AppTable.tsx","../lib/utils/getValue.ts","../lib/Dialog/ConfirmDialog.tsx","../lib/AppContext.tsx","../lib/Guards/RoleGuard.tsx","../lib/Table/Columns/ColumnActions.tsx","../lib/Table/Columns/Column.tsx","../lib/Table/Columns/ColumnBoolean.tsx","../lib/Table/Columns/ColumnDate.tsx","../lib/Guards/AuthGuard.tsx","../lib/Pending/Pending.tsx","../lib/Snackbar/Snackbar.tsx","../lib/utils/FormResponse.ts","../lib/utils/getQueryParam.ts","../lib/utils/Validator.tsx"],"sourcesContent":["export default function setQueryParam(query: any, param: string, value: any, prefix?: string): any {\n    const clone = {...query};\n    let queryParam = param;\n    if (prefix) {\n        queryParam = `${prefix}_${param}`\n    }\n\n    clone[queryParam] = value;\n    return clone;\n}\n","export default function getPrefixedValues(query: any, prefix?: string): any {\n  if (!prefix) {\n    return query;\n  }\n\n  const regexp = new RegExp(`^(${prefix}_)(.*)$`);\n\n  return Object.keys(query).reduce((prev: any, current: string) => {\n    const match = regexp.exec(current)\n    if (match && match.length === 3) {\n      const key: string = match[2];\n      prev[key] = query[current];\n    }\n\n    return prev;\n  }, {});\n}\n","import {ArrowDropDown, ArrowDropUp} from \"@material-ui/icons\";\nimport {Box, IconButton} from \"@material-ui/core\";\nimport React, {useEffect, useState} from \"react\";\nimport {useRouter} from \"next/router\";\nimport setQueryParam from \"../../utils/setQueryParam\";\nimport getPrefixedValues from \"../../utils/getPrefixedValues\";\n\nexport interface SortableInterface {\n  column: string;\n  prefix?: string;\n}\n\nexport default function Sortable({column, prefix}: SortableInterface) {\n  const router = useRouter();\n  const [state, setState] = useState<string | null>(null);\n  const {order_field, order_dir} = getPrefixedValues(router.query, prefix);\n\n  useEffect(() => {\n    if (order_field === column) {\n      if (order_dir === 'desc') {\n        setState('desc');\n        return;\n      }\n\n      setState('asc');\n      return;\n    }\n\n    setState(null);\n  }, [order_field, order_dir]);\n\n  const sort = (dir: string): void => {\n    let params = {...router.query};\n\n    if (state === dir) {\n      params = setQueryParam(params, 'order_field', null, prefix);\n      params = setQueryParam(params, 'order_dir', null, prefix);\n      router.push({query: params});\n\n      return;\n    }\n\n    params = setQueryParam(params, 'order_field', column, prefix);\n    params = setQueryParam(params, 'order_dir', dir, prefix);\n    router.push({query: params});\n  }\n\n  return (\n    <Box p={1} alignSelf=\"flex-end\">\n      <div>\n        <IconButton size=\"small\" onClick={() => sort('asc')}>\n          <ArrowDropUp color={state === 'asc' ? 'secondary' : 'inherit'}/>\n        </IconButton>\n        <IconButton size=\"small\" onClick={() => sort('desc')}>\n          <ArrowDropDown color={state === 'desc' ? 'secondary' : 'inherit'}/>\n        </IconButton>\n      </div>\n    </Box>\n  );\n}\n","import {\n  Box,\n  FormControl, IconButton, Input,\n  InputAdornment, InputLabel,\n  TableCell,\n} from \"@material-ui/core\";\nimport React, {\n  ChangeEvent,\n  useEffect,\n  useMemo,\n  useState,\n  MouseEvent\n} from \"react\";\nimport {useRouter} from \"next/router\";\nimport {from, Subject} from \"rxjs\";\nimport {\n  debounceTime,\n  distinctUntilChanged,\n} from \"rxjs/operators\";\nimport {Backspace} from \"@material-ui/icons\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Sortable from \"./Sortable\";\nimport setQueryParam from \"../../utils/setQueryParam\";\n\ninterface HeaderSearchInterface {\n  column: string;\n  label: string;\n  prefix?: string;\n  sortable?: boolean;\n}\nconst useStyles = makeStyles(() => ({\n  form_control: {\n    width: '100%'\n  }\n}));\n\nexport default function HeaderSearch({column, label, prefix, sortable}: HeaderSearchInterface) {\n  const router = useRouter();\n  const classes = useStyles();\n  const [value, setValue] = useState(router.query[column] || '');\n  const subject: Subject<string> = useMemo(() => {\n    return new Subject<string>();\n  }, []);\n\n  useEffect(() => {\n    const subscription = subject\n      .pipe(\n        distinctUntilChanged(),\n        debounceTime(500)\n      )\n      .subscribe((value) => {\n        const {query, pathname} = router;\n        let params = setQueryParam(query, column, value, prefix);\n        params = setQueryParam(params, 'page', 1, prefix);\n\n        return from(router.push({\n          pathname,\n          query: params\n        }))\n      })\n    return () => {\n      subscription.unsubscribe();\n      subject.complete();\n    }\n  }, []);\n\n  const onChange = (event$: ChangeEvent<HTMLInputElement>) => {\n    const value = event$.target.value;\n    setValue(value);\n    subject.next(value);\n  }\n\n  const handleClearInput = (event$: MouseEvent<HTMLButtonElement>) => {\n    event$.preventDefault();\n    setValue('');\n    subject.next('');\n  };\n\n  return <TableCell>\n    <Box display=\"flex\">\n      <Box p={1} flexGrow={1} alignSelf=\"flex-end\">\n        <FormControl className={classes.form_control}>\n          <InputLabel htmlFor={`${column}-${label}`}>{label}</InputLabel>\n          <Input\n            id={`${column}-${label}`}\n            value={value}\n            onChange={onChange}\n            endAdornment={\n              (value && <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"remove input\"\n                    onClick={handleClearInput}\n                  >\n                    <Backspace/>\n                  </IconButton>\n                </InputAdornment>\n              )}\n          />\n        </FormControl>\n      </Box>\n      {sortable && <Sortable column={column} prefix={prefix}/>}\n    </Box>\n  </TableCell>;\n}\n","import {\n  Box,\n  TableCell,\n} from \"@material-ui/core\";\nimport Sortable from \"./Sortable\";\nimport React from \"react\";\n\ninterface HeaderInterface {\n  column: string;\n  label: string;\n  prefix?: string;\n  sortable?: boolean;\n}\n\nexport default function Header({column, label, prefix, sortable}: HeaderInterface) {\n  return <TableCell>\n    <Box display=\"flex\">\n      <Box p={1} flexGrow={1} alignSelf=\"flex-end\">\n        {label}\n      </Box>\n      {sortable && <Sortable column={column} prefix={prefix}/>}\n    </Box>\n  </TableCell>;\n}\n","import {\n  Table,\n  Paper, TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow, TablePagination\n} from \"@material-ui/core\";\nimport React, {\n  ReactElement,\n  ReactNode,\n} from \"react\";\nimport {PaginatedResources} from \"../Interfaces/PaginatedResources\";\nimport {useRouter} from \"next/router\";\nimport {makeStyles} from \"@material-ui/styles\";\nimport HeaderSearch from \"./Headers/HeaderSearch\";\nimport Header from \"./Headers/Header\";\nimport setQueryParam from \"../utils/setQueryParam\";\n\nfunction generateChildren<T = any>(children: ReactNode, record: T): ReactNode {\n  return React.Children.map(children, (child): ReactElement => {\n    if (React.isValidElement<ReactElement>(child)) {\n      return React.cloneElement<any>(child, {record, value: record});\n    }\n\n    return child as React.ReactElement<any, string | React.JSXElementConstructor<any>>;\n  });\n}\n\nconst generateHeaders = (children: ReactNode, prefix?: string): any => {\n  return React.Children.map<ReactElement, any>(children, (child) => {\n    if (React.isValidElement<any>(child)) {\n      if (child?.props?.searchable) {\n        return <HeaderSearch label={child.props.label}\n                             prefix={prefix}\n                             column={child.props.column}\n                             sortable={child.props.sortable}/>;\n      }\n\n      if (typeof child?.props?.label !== undefined) {\n        return <Header label={child.props.label}\n                       prefix={prefix}\n                       column={child.props.column}\n                       sortable={child.props.sortable}/>;\n      }\n    }\n\n    return <TableCell/>;\n  });\n}\n\nexport interface AppTableInterface<T = any> {\n  children: ReactNode;\n  resource: PaginatedResources<T>;\n  prefix?: string;\n}\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nexport default function AppTable<T = any>({children, resource, prefix}: AppTableInterface<T>) {\n  const classes = useStyles();\n  const router = useRouter();\n\n  const handlePageChange = (_event: any, page: number) => {\n    const {query: currentQuery, pathname} = router;\n    const query = setQueryParam(currentQuery, 'page', page + 1, prefix);\n\n    router.push({\n      pathname,\n      query\n    }, undefined, {shallow: true});\n  }\n\n  return (\n    <>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label=\"simple table\" size=\"small\">\n          <TableHead>\n            <TableRow>\n              {generateHeaders(children, prefix)}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {resource && (resource.data).map((record: any, index: number): ReactElement => {\n              return (\n                <TableRow key={record?.id || index} hover>\n                  {generateChildren<T>(children, record)}\n                </TableRow>\n              )\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[15, 25, 50, 100]}\n        component=\"div\"\n        count={resource?.total || 0}\n        rowsPerPage={resource?.per_page || 15}\n        page={resource?.current_page - 1 || 0}\n        onChangePage={handlePageChange}\n        onChangeRowsPerPage={() => {\n        }}\n      />\n    </>\n  );\n}\n","export default function getValue(object: any, path: string): any {\n  return path.replace(/\\[/g, '.')\n    .replace(/\\]/g, '')\n    .split('.')\n    .reduce((o, k) => (o || {})[k], object);\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport interface AlertDialogInterface {\n  open: boolean;\n  handleClose: (submit: boolean) => void;\n  title: string;\n  content: string;\n  submitLabel?: string;\n  cancelLabel?: string;\n  cancelShow?: boolean;\n}\n\nexport default function ConfirmDialog({open, title, content, submitLabel, cancelLabel, handleClose}: AlertDialogInterface) {\n  return (\n    <Dialog\n      open={open}\n      onClose={() => handleClose(false)}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\"\n                           dangerouslySetInnerHTML={{__html: content}}/>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose(false)} color=\"primary\">\n          {cancelLabel ?? 'Cancel'}\n        </Button>\n        <Button onClick={() => handleClose(true)} color=\"primary\" autoFocus>\n          {submitLabel ?? 'Submit'}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import * as React from 'react';\n\nconst AppContext = React.createContext<any>({});\n\nexport function withAppContext<T>(Component: React.ComponentType<T>) {\n  return (props: any) => (\n    <AppContext.Consumer>\n      {(context) => (\n        <Component context={context} {...props} />)}\n    </AppContext.Consumer>\n  );\n}\n\nexport const AppProvider = AppContext.Provider;\nexport const AppConsumer = AppContext.Consumer;\nexport default AppContext;\n","import React, {ReactElement, useContext} from 'react';\n\nimport AppContext from '../AppContext';\nimport {ServicesInterface} from '../Interfaces/services.interface';\nimport {ExpectedRoleType} from \"../Interfaces/expected-role.interface\";\n\ninterface AccessInterface {\n    children: ReactElement;\n    expectedRole: ExpectedRoleType;\n\n    [key: string]: any;\n}\n\nexport default function RoleGuard({children, expectedRole = [], ...rest}: AccessInterface) {\n    const {accountsService} = useContext<ServicesInterface>(AppContext);\n    const access = accountsService.hasAccess(expectedRole);\n\n    if (!access) {\n        return <></>;\n    }\n\n    return React.cloneElement(children, rest);\n}\n","import { Button, TableCell, Theme } from '@material-ui/core';\nimport { amber } from '@material-ui/core/colors';\nimport { Delete, Edit } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/styles';\nimport { useRouter } from 'next/router';\nimport React, { useState } from 'react';\n\nimport ConfirmDialog from '../../Dialog/ConfirmDialog';\nimport { ColumnInterface } from '../TableInterface';\nimport RoleGuard from \"../../Guards/RoleGuard\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    '& > *': {\n      marginRight: theme.spacing(0.5),\n    },\n  },\n  warning: {\n    backgroundColor: amber.A400,\n  },\n}));\n\ninterface ColumnActionsInterface<T = any> extends ColumnInterface {\n  handleDelete?: (record: T) => void;\n  path?: string;\n  requiredRole?: string;\n}\n\nexport default function ColumnActions({\n  align, record, column, path, handleDelete, requiredRole,\n}: ColumnActionsInterface) {\n  const styles = useStyles();\n  const router = useRouter();\n  const [open, toggleOpen] = useState(false);\n\n  const handleClose = (submit: boolean) => {\n    toggleOpen(false);\n\n    if (!submit) {\n      return;\n    }\n\n    if (handleDelete) {\n      handleDelete(record);\n    }\n  };\n\n  const navigate = () => {\n    const pathname = path ?? router.pathname;\n\n    router.push({\n      pathname: `${pathname}/${record[column]}`,\n    });\n  };\n\n  return (\n    <TableCell align={align}>\n      <div className={styles.root}>\n        <RoleGuard expectedRole={requiredRole ? [{ [requiredRole]: 'update' }] : []}>\n          <Button\n            size=\"small\"\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={navigate}\n            startIcon={<Edit />}\n          >\n            Edit\n          </Button>\n        </RoleGuard>\n        {handleDelete && (\n          <RoleGuard expectedRole={requiredRole ? [{ [requiredRole]: 'delete' }] : []}>\n            <Button\n              className=\"warning\"\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => toggleOpen(true)}\n            >\n              <Delete />\n            </Button>\n          </RoleGuard>\n        )}\n      </div>\n      <ConfirmDialog\n        open={open}\n        handleClose={handleClose}\n        title=\"Remove entity?\"\n        content=\"Are you sure you want to remove this entity?\"\n      />\n    </TableCell>\n  );\n}\n","import {TableCell} from \"@material-ui/core\";\nimport React from \"react\";\nimport {ColumnInterface} from \"../TableInterface\";\nimport getValue from \"../../utils/getValue\";\n\nexport default function Column({align, record, column, children}: ColumnInterface) {\n\n  if (children) {\n    return <TableCell align={align}>{children(getValue(record, column), record)}</TableCell>;\n  }\n\n  return (\n    <TableCell align={align}>{getValue(record, column)}</TableCell>\n  )\n}\n","import {TableCell} from \"@material-ui/core\";\nimport React from \"react\";\nimport {ColumnInterface} from \"../TableInterface\";\nimport {Done} from \"@material-ui/icons\";\n\nexport default function ColumnBoolean({align, record, column}: ColumnInterface) {\n  return (\n    <TableCell align={align}>{record[column] ? <Done/> : null}</TableCell>\n  )\n}\n","import { TableCell } from '@material-ui/core';\nimport moment from 'moment';\nimport React, { useContext, useMemo, useState } from 'react';\n\nimport getValue from '../../utils/getValue';\nimport AppContext from '../../AppContext';\nimport { ColumnDateInterface } from '../TableInterface';\n\nexport default function ColumnDate({\n  align, record, column, format, locale,\n}: ColumnDateInterface) {\n  const { locale: globalLocale } = useContext(AppContext);\n  const [date, setDate] = useState<string>();\n  const value = getValue(record, column);\n\n  useMemo(() => {\n    if (format === 'fromNow') {\n      setDate(moment(value)\n        .locale(locale || globalLocale)\n        .fromNow());\n      return;\n    }\n\n    setDate(moment(value)\n      .locale(locale || globalLocale)\n      .format(format || 'L HH:mm:ss'));\n  }, [value, locale, format]);\n\n  return (\n    <TableCell align={align}>{date}</TableCell>\n  );\n}\n","import React, { useContext } from 'react';\n\nimport AppContext from '../AppContext';\nimport {ServicesInterface} from \"../Interfaces/services.interface\";\n\nexport default function AuthGuard({ children }: { children: (params: any) => React.ReactElement }) {\n  const { storeService } = useContext<ServicesInterface>(AppContext);\n\n  if (!storeService.has('AccountsService', 'profile')) {\n    return (<div>unauthorized</div>);\n  }\n\n  return (\n    <>\n      {children({ x: 'y' })}\n    </>\n  );\n}\n","import React, {ReactElement, ReactNode} from \"react\";\nimport {makeStyles} from \"@material-ui/styles\";\nimport {Theme} from \"@material-ui/core\";\nimport {grey} from \"@material-ui/core/colors\";\n\nexport interface PendingInterface {\n  loading: boolean;\n  children: ReactNode\n}\n\nconst useStyles = makeStyles((_theme: Theme) => ({\n  pendingWrapper: {\n    position: 'relative'\n  },\n\n  pendingLayer: {\n    position:'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    backgroundColor: grey.A400,\n    opacity: '0.1'\n  }\n\n}));\n\nexport default function Pending({loading, children}: PendingInterface): ReactElement {\n  const styles = useStyles();\n\n  return (\n    <div className={styles.pendingWrapper}>\n      {loading && <div className={styles.pendingLayer}/>}\n      {children}\n    </div>\n  );\n}\n","import MatSnackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext, useEffect, useState } from 'react';\n\nimport AppContext from '../AppContext';\n\nfunction Alert(props: any) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport default function Snackbar() {\n  const [snack, setSnack] = useState<any>({\n    open: false,\n    type: 'info',\n    message: null,\n  });\n  const { snackbarService } = useContext(AppContext);\n\n  useEffect(() => {\n    const sub = snackbarService.subject.subscribe((next: any) => {\n      if (!next) {\n        return;\n      }\n      setSnack({ open: true, ...next });\n    });\n\n    return () => {\n      sub.unsubscribe();\n    };\n  }, []);\n\n  const handleClose = (_event: any, reason: string) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setSnack({ open: false, type: 'info', message: null });\n  };\n\n  return (\n    <MatSnackbar\n      open={snack.open}\n      autoHideDuration={6000}\n      onClose={handleClose}\n    >\n      <Alert onClose={handleClose} severity={snack.type}>\n        {snack.message}\n      </Alert>\n    </MatSnackbar>\n  );\n}\n","import {AxiosError, AxiosResponse} from \"axios\";\nimport {FORM_ERROR} from \"final-form\";\nimport {Observable} from \"rxjs\";\n\ntype resolveType = (res?: any) => void;\ntype callbackType = (res?: any) => void;\n\n\nexport class FormResponse {\n\n  static handleRequest(res: AxiosResponse, resolve: resolveType, callback?: resolveType): void {\n    if (res.statusText !== 'ok') {\n      if (typeof res.data.errors !== 'undefined') {\n        resolve(res.data.errors);\n        return;\n      }\n    }\n\n    if (typeof callback === 'function') {\n      callback(res);\n    }\n\n    resolve();\n  }\n\n  static handleError(res: AxiosError, resolve: resolveType, callback?: callbackType): void {\n\n    if (typeof callback === 'function') {\n      callback(res);\n    }\n\n    if (typeof res.response !== 'undefined') {\n      const {response: {data}} = res;\n      if (typeof data === 'string') {\n        resolve({[FORM_ERROR]: data});\n        return;\n      }\n\n      if (typeof data.error !== 'undefined') {\n        resolve(data.error);\n        return;\n      }\n\n      if (typeof data.errors !== 'undefined') {\n        resolve(data.errors);\n        return;\n      }\n      resolve(data);\n      return\n    }\n\n    resolve(res);\n  }\n\n  static finalFormResponse<T = any>(promise: Observable<AxiosResponse<T>>, callback?: callbackType): Promise<T> {\n\n    return new Promise(resolve => {\n      promise\n        .toPromise()\n        .then((res: AxiosResponse) => this.handleRequest(res, resolve, callback))\n        .catch((res: AxiosError) => this.handleError(res, resolve, callback));\n    });\n  }\n}\n","export function getCurrentValue(query: any, param: string, prefix?: string): any {\n  if (prefix && !query[prefix]) {\n    query[prefix] = {};\n  }\n\n  return prefix ? query[`${prefix}_${param}`] : query[param];\n}\n","import validator from 'validator';\n\nexport default class Validators {\n  static required = (errors: any, name: string, values: any) => {\n    if (validator.isEmpty(values[name] ?? '')) {\n      errors[name] = `${name} is required`;\n    }\n  }\n\n  static boolean = (errors: any, name: string, values: any) => {\n    if (values[name] !== false && values[name] !== true) {\n      errors[name] = `${name} should be true or false.`;\n    }\n  }\n\n  static password = (errors: any, name: string, values: any) => {\n    if (validator.isEmpty(values[name] ?? '')) {\n      errors[name] = `${name} is required`;\n      return;\n    }\n\n    const regex = new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})');\n    if (!regex.test(values[name])) {\n      errors[name] = `${name} is not a strong enough. At least 1 uppercase character, 1 numeric character and 1 special character.`;\n    }\n\n    if (values[name] !== values[`${name}_repeat`]) {\n      errors[name] = 'passwords do not match.';\n    }\n  }\n\n  static email = (errors: any, name: string, values: any) => {\n    if (validator.isEmpty(values[name] ?? '')) {\n      return;\n    }\n\n    if (!validator.isEmail(values[name])) {\n      errors[name] = 'Not a valid e-mailaddress ';\n    }\n  }\n\n  static test = (values: any, requirements: any): any => {\n    const errors: any = {};\n    Object.keys(requirements).forEach((name: string) => {\n      const validators: Array<any> = requirements[name];\n      if (Array.isArray(validators)) {\n        validators.forEach((validate) => {\n          if (typeof validate === 'function') {\n            validate(errors, name, values);\n          }\n\n          if (typeof validator === 'object' && Array.isArray(values[name])) {\n            values[name].forEach((value: any, index: number) => {\n              const error = Validators.test(value, validate);\n              if (Object.keys(error).length > 0) {\n                if (!errors[name]) {\n                  errors[name] = [];\n                }\n\n                errors[name][index] = error;\n              }\n            });\n          }\n        });\n      }\n    });\n\n    return errors;\n  }\n}\n"],"names":["setQueryParam","query","param","value","prefix","clone","queryParam","getPrefixedValues","regexp","RegExp","Object","keys","reduce","prev","current","match","exec","length","Sortable","column","router","useRouter","state","setState","useState","order_field","order_dir","useEffect","sort","dir","params","push","React","Box","p","alignSelf","IconButton","size","onClick","ArrowDropUp","color","ArrowDropDown","useStyles","makeStyles","form_control","width","HeaderSearch","label","sortable","classes","setValue","subject","useMemo","Subject","subscription","pipe","distinctUntilChanged","debounceTime","subscribe","pathname","from","unsubscribe","complete","TableCell","display","flexGrow","FormControl","className","InputLabel","htmlFor","Input","id","onChange","event$","target","next","endAdornment","InputAdornment","position","preventDefault","Backspace","Header","table","minWidth","getValue","object","path","replace","split","o","k","ConfirmDialog","open","title","content","submitLabel","cancelLabel","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","dangerouslySetInnerHTML","__html","DialogActions","Button","autoFocus","AppContext","createContext","AppProvider","Provider","AppConsumer","Consumer","Component","props","context","RoleGuard","children","expectedRole","rest","accountsService","useContext","hasAccess","cloneElement","theme","root","& > *","marginRight","spacing","warning","backgroundColor","amber","A400","resource","TableContainer","component","Paper","Table","TableHead","TableRow","Children","map","child","isValidElement","searchable","undefined","generateHeaders","TableBody","record","index","key","hover","generateChildren","TablePagination","rowsPerPageOptions","count","total","rowsPerPage","per_page","page","current_page","onChangePage","_event","currentQuery","shallow","onChangeRowsPerPage","align","handleDelete","requiredRole","styles","toggleOpen","[object Object]","variant","startIcon","Edit","Delete","submit","Done","format","locale","globalLocale","date","setDate","moment","fromNow","storeService","has","x","_theme","pendingWrapper","pendingLayer","top","right","bottom","left","grey","opacity","loading","Alert","MuiAlert","elevation","snack","setSnack","type","message","snackbarService","sub","reason","MatSnackbar","autoHideDuration","severity","res","resolve","callback","statusText","data","errors","response","FORM_ERROR","error","promise","Promise","toPromise","then","this","handleRequest","catch","handleError","Validators","name","values","validator","isEmpty","test","isEmail","requirements","forEach","validators","Array","isArray","validate"],"mappings":"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"}